使用說明

下載
http://hirokofan.myweb.hinet.net/temp/p-m2video.zip
圖文說明
http://hirokofan.pixnet.net/blog/post/39316007

需要FFmpeg，建議用WinFF附的就好
FFmpeg
http://www.ffmpeg.org/

FFmpeg Windows（Zeranoe FFmpeg Builds. ）
http://ffmpeg.zeranoe.com/builds/

WinFF
http://winff.org/

一、功能

1.將一張圖片檔和一個音樂檔合成一個影片，影片內容為靜止圖
2.可批次處理，檔名不論是中文、日文還是萬年遺毒UAO都OK（但=不行）
3.完成後輸出成功和失敗的工作結果

二、合成前準備

**調整設定的方式：用文字編輯器打開「圖音合成.BAT」修改內容

1.系統要有FFmpeg，用WinFF也可以
2.圖片檔限定JPG，長寬一定要2的倍數，音樂檔試過mp3/m4a都OK
3.圖片檔跟音樂檔同一個名稱，如5566.jpg配5566.mp3
4.圖片檔位置可以設定來源目錄或跟音樂檔同一個目錄
5.產出的影片可以設定輸出目錄或跟音樂檔同一個目錄
6.生成的影片檔，影像部份是x264，音樂部份直接複製

三、操作方式

1.選好音樂檔拖到批次檔的圖示上即可
2.批次檔不需和音樂同一個資料夾
3.可以複製到「傳送到....」(SendTO)，檔案選好按右鍵就開始轉了

四、工作原理
把來源音樂檔和圖片檔複製到暫存區，用ffmpeg處理之後
再把做好的影片檔複製到指定的目錄

五、已知問題
影片到最後會比音樂長一點，和音樂的長短無關，與電腦處理能力和圖檔內容有關，
電腦運算處理能力強→時間差增加
圖檔尺寸大內容複雜→時間差減小

ffmpeg轉檔參數中增加-threads 1強制跑單執行緒可稍微抑制這個現象
在我的電腦上，對同一圖檔和音樂檔進行測試，時間差如下表

           每秒張數
          25張  4張
執行緒4    2秒 13秒
執行緒1    1秒 11秒